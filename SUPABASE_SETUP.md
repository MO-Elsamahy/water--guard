# ุฅุนุฏุงุฏ Supabase ููุดุฑูุน Water Guard

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ:

### 1. ุฅูุดุงุก ุงูุฌุฏุงูู ูู Supabase

1. **ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Supabase**: https://supabase.com/dashboard
2. **ุงุฎุชุฑ ูุดุฑูุนู**: `water-guard`
3. **ุงุฐูุจ ุฅูู SQL Editor** (ูู ุงูุดุฑูุท ุงูุฌุงูุจู)
4. **ุงูุณุฎ ูุงูุตู ุงููุญุชูู ุงููุงูู** ูู ููู `supabase-schema.sql`
5. **ุงุถุบุท "Run"** ูุชูููุฐ ุงูุฃูุงูุฑ

### 2. ุชูุนูู Row Level Security

ุงูู RLS ููุนู ุชููุงุฆูุงู ูู ุงูู schemaุ ููู ุชุฃูุฏ ูู:

1. **ุงุฐูุจ ุฅูู Authentication > Policies**
2. **ุชุฃูุฏ ูู ูุฌูุฏ ุงูุณูุงุณุงุช (Policies)** ููู ุฌุฏูู
3. **ุฅุฐุง ูู ุชุธูุฑุ ูู ุจุชูููุฐ ุงูู SQL ูุฑุฉ ุฃุฎุฑู**

### 3. ุฅุนุฏุงุฏ Storage Buckets

1. **ุงุฐูุจ ุฅูู Storage**
2. **ุชุฃูุฏ ูู ูุฌูุฏ ูุฐู ุงูู Buckets**:
   - `avatars` (public)
   - `reports` (public)  
   - `news` (public)
   - `licenses` (private)

3. **ุฅุฐุง ูู ุชูู ููุฌูุฏุฉุ ุฃูุดุฆูุง ูุฏููุงู**:
   - ุงุถุบุท "New bucket"
   - ุฃุฏุฎู ุงูุงุณู
   - ุงุฎุชุฑ Public ุฃู Private ุญุณุจ ุงูุฌุฏูู ุฃุนูุงู

### 4. ุฅุนุฏุงุฏ Authentication

1. **ุงุฐูุจ ุฅูู Authentication > Settings**
2. **ุชุฃูุฏ ูู ุชูุนูู**:
   - โ Enable email confirmations
   - โ Enable secure email change
   - โ Enable phone confirmations (ุงุฎุชูุงุฑู)

### 5. ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ (ุงุฎุชูุงุฑู)

ูู ุจุชูููุฐ ูุฐุง ุงูู SQL ูุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ:

```sql
-- ุฅุถุงูุฉ ูุณุชุฎุฏู ุฅุฏุงุฑู ุชุฌุฑูุจู
INSERT INTO auth.users (
  id,
  instance_id,
  email,
  encrypted_password,
  email_confirmed_at,
  created_at,
  updated_at,
  raw_user_meta_data,
  role,
  aud
) VALUES (
  gen_random_uuid(),
  '00000000-0000-0000-0000-000000000000',
  'admin@waterguard.com',
  crypt('admin123', gen_salt('bf')),
  now(),
  now(),
  now(),
  '{"display_name": "ูุฏูุฑ ุงููุธุงู", "role": "admin"}',
  'authenticated',
  'authenticated'
);
```

### 6. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

1. **ุดุบู ุงูุณูุฑูุฑ**: `npm run dev`
2. **ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุชุณุฌูู**
3. **ุณุฌู ุญุณุงุจ ุฌุฏูุฏ**
4. **ุชุฃูุฏ ูู ุฅูุดุงุก ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:

### ุฎุทุฃ ูู ุงูุงุชุตุงู:
- ุชุฃูุฏ ูู ุตุญุฉ ุงูู environment variables ูู `.env.local`
- ุชุฃูุฏ ูู ุฃู ุงููุดุฑูุน active ูู Supabase

### ุฎุทุฃ ูู RLS:
- ุชุฃูุฏ ูู ุชูููุฐ ุฌููุน ุงูู policies ูู ุงูู schema
- ุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ูู ุงูุตูุงุญูุงุช ุงูููุงุณุจุฉ

### ุฎุทุฃ ูู Storage:
- ุชุฃูุฏ ูู ุฅูุดุงุก ุงูู buckets ุงููุทููุจุฉ
- ุชุญูู ูู ุงูู storage policies

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก:

1. **ุงุฐูุจ ุฅูู Logs** ููุฑุงูุจุฉ ุงูุงุณุชุนูุงูุงุช
2. **ุงุณุชุฎุฏู Database > Performance** ููุฑุงูุจุฉ ุงูุฃุฏุงุก
3. **ุฑุงุฌุน API > Logs** ููุฑุงูุจุฉ ุทูุจุงุช ุงูู API

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

ุจุนุฏ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ููููู:

1. โ ุงุฎุชุจุงุฑ ุชุณุฌูู ุงููุณุชุฎุฏููู
2. โ ุงุฎุชุจุงุฑ ุฑูุน ุงูุตูุฑ
3. โ ุงุฎุชุจุงุฑ ุฅูุดุงุก ุงูุชูุงุฑูุฑ
4. โ ุงุฎุชุจุงุฑ ุฏููู ุงูุณุจุงููู
5. โ ุงุฎุชุจุงุฑ ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ

---

**ููุงุญุธุฉ**: ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงููุ ุฑุงุฌุน ุงูู logs ูู Supabase Dashboard ุฃู ุงุชุตู ุจุงูุฏุนู ุงูุชููู.
